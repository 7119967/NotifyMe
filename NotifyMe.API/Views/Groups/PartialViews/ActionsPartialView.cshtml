@model GroupIndexViewModel
<div class="dropdown">
    <button class="btn dropdown-toggle" id="dropdownMenuButton-@Model.Id" type="button" data-bs-toggle="dropdown" aria-expanded="false">
        <i class='bx bx-dots-horizontal-rounded'></i>
    </button>
    <ul class="dropdown-menu align-items-center justify-content-evenly" aria-labelledby="dropdownMenuButton-@Model.Id">
        <li class="dropdown-item">
            <i class='bx bx-edit-alt'></i>
            <a class="btn" data-bs-toggle="ajax-modal" data-bs-target="#modal-edit" onclick="editing('@Model.Id')">Edit</a>
        </li>
        <li class="dropdown-item">
            <i class='bx bx-detail'></i>
            @* <a class="btn" data-bs-toggle="modal" data-bs-target="#modalDetails" onclick="previewing('@Model.Id')">Details</a> *@
            <a class="btn" data-bs-toggle="modal" data-bs-target="#modalDetails">Details</a>
        </li>
        <li class="dropdown-item">
            <i class='bx bx-trash'></i>
            @* <a class="btn" onclick="deleting('@Model.Id')">Delete</a> *@
            <a class="btn" data-bs-toggle="modal" data-bs-target="#modalDelete">Delete</a>
        </li>
    </ul>
</div>

@section Scripts
{
    @* <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script> *@
    @* <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> *@
    @* <script src="~/js/site.js" asp-append-version="true"></script> *@
    <script>



    // function editing(entityId) {
    // //     $.ajax({
    // //         url: '@Url.Action("Edit", "Groups")',
    // //         type: 'GET',
    // //         data: { 'entityId': entityId },
    // //     });
    // $.ajax({
    //         url: '@Url.Action("Edit", "Groups")',
    //         type: 'GET',
    //         data: { 'entityId': entityId },
    //         success: function(result){
    //             $('#modal-edit').show();
    //         },
    //         error: function(){
    //         console.log("Something went wrong");
    //         }
    //     });
    // }

        // function editing(id) {
        //    $.get(`@Url.Action("Edit")/?entityId=${id}`, function(data) {
        //        $('#details-modal').html(data);
        //        $("#modalEdit").show();
        //        $("#modalEdit").css("overflow", "auto");
        //        $("body").css("overflow", "hidden");
        //    })
        // }

        function creating() {
            $.ajax({
                url: '@Url.Action("Create", "Groups")',
                type: 'POST',
                data:  $("#form-GroupCreate").serialize(),
            });
        }

        function previewing(entityId) {
            $.ajax({
                url: '@Url.Action("Details", "Groups")',
                type: 'GET',
                data: { 'idUser': entityId },
                headers: {
                    "Content-Type": "application/json",
                },
                success: function (data) {
                    console.log(data);
                },
                error: function (error) {
                    console.log(error);
                    alert(error.status + '\n' + error.message);
                }
            });
        }

    </script>
}